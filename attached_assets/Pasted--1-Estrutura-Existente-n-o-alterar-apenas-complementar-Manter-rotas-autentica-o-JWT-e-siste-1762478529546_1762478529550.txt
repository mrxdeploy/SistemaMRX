üîß 1. Estrutura Existente (n√£o alterar, apenas complementar)

Manter rotas, autentica√ß√£o JWT e sistema de notifica√ß√µes via WebSocket.

Rotas antigas /api/relatorios continuam ativas (retrocompatibilidade).

Banco e migra√ß√µes j√° estruturados (empresas, solicitacoes, placas, vendedores, entradas).

Layout escuro, profissional e responsivo deve ser mantido e aprimorado.

üß© 2. Implementar Funcionalidades Pendentes do Diagrama
(a) Cadastro de Funcion√°rios

Criar m√≥dulo /funcionarios.html e endpoints REST:

GET /api/funcionarios ‚Äì listar funcion√°rios

POST /api/funcionarios ‚Äì criar

PUT /api/funcionarios/<id> ‚Äì editar

DELETE /api/funcionarios/<id> ‚Äì deletar

Campos:

Nome

CPF

Telefone

Cargo

Filtro e busca por nome e cargo.
Associa√ß√£o com empresa e vendedor (se aplic√°vel).

(b) Cadastro de Fornecedores (Completo)

Adicionar tela /fornecedores.html com formul√°rios completos:

Nome social

CNPJ / CPF

Endere√ßos (coleta e emiss√£o)

Contatos (telefone, e-mail)

Dados banc√°rios

Condi√ß√£o e forma de pagamento

Endpoints:

GET /api/fornecedores

POST /api/fornecedores

PUT /api/fornecedores/<id>

DELETE /api/fornecedores/<id>

Cada fornecedor deve ter hist√≥rico de compras e entregas (relacionamento com solicitacoes e entradas).

(c) Sistema de Compras / Despesas

Nova tela /compras.html com integra√ß√£o entre fornecedores e solicita√ß√µes.

Campos: Fornecedor, Material, Valor, Observa√ß√£o, Tipo (compra/despesa)

Upload de comprovantes (arquivo PDF ou imagem)

Status: pendente, pago, cancelado

Filtros: por fornecedor, tipo e status

Endpoints REST completos (/api/compras)

(d) Classifica√ß√£o de Itens por Lote

Implementar l√≥gica para classificar itens automaticamente por tipo de lote:

Campos: tipo (leve, m√©dia, pesada)

Tela /classificacao.html

Permitir cria√ß√£o e edi√ß√£o manual da classifica√ß√£o

Endpoint /api/classificacao para CRUD

Ao aprovar entrada, os lotes devem ser classificados automaticamente com base no peso total das placas.

(e) Valida√ß√£o de Entrada

Tela /validacao.html para validar as solicita√ß√µes confirmadas antes de entrarem no banco principal:

Mostrar lista de solicita√ß√µes com placas pendentes

Bot√µes ‚ÄúAprovar‚Äù e ‚ÄúReprovar‚Äù

Endpoint /api/validacao com PUT para alterar status

(f) Consulta Avan√ßada

Tela /consultar.html para filtros din√¢micos de todos os dados (placas, empresas, fornecedores, despesas):

Filtros avan√ßados com m√∫ltiplos crit√©rios

Ordena√ß√£o por data, valor, status, tipo

Exportar resultado para CSV

Endpoint /api/consulta gen√©rico para todas as entidades

(g) Tabelas e Par√¢metros Padr√£o

Tela /tabelas.html

Definir e editar par√¢metros padr√£o do sistema (formas de pagamento, tipos de placa, condi√ß√µes, etc.)

Salvar em tabela configuracoes

Endpoint /api/config

üìä 3. Dashboards Profissionais e Interativos

Atualizar a tela /dashboard.html para conter bot√µes que mudam o tipo de dashboard exibido.

Tipos de Dashboard:

Geral ‚Äì Estat√≠sticas de solicita√ß√µes, placas e entradas

Financeiro ‚Äì Compras, despesas, lucro l√≠quido

Operacional ‚Äì Entradas aprovadas/reprovadas, tempo m√©dio de an√°lise

Fornecedores e Empresas ‚Äì Top fornecedores, ranking de empresas ativas

Requisitos t√©cnicos:

Cada bot√£o troca o tipo de dashboard sem recarregar a p√°gina (uso de AJAX ou JS fetch)

Visualiza√ß√£o com gr√°ficos modernos (usar Chart.js ou ApexCharts)

Design escuro, profissional e limpo (seguir est√©tica corporativa)

Responsivo e otimizado para desktop e tablet

Exemplo de bot√µes no topo da tela:

<div class="dashboard-switch">
  <button class="btn" onclick="loadDashboard('geral')">Geral</button>
  <button class="btn" onclick="loadDashboard('financeiro')">Financeiro</button>
  <button class="btn" onclick="loadDashboard('operacional')">Operacional</button>
  <button class="btn" onclick="loadDashboard('fornecedores')">Empresas / Fornecedores</button>
</div>


Fun√ß√£o JS:

function loadDashboard(type) {
  fetch(`/api/dashboard/${type}`)
    .then(res => res.json())
    .then(data => renderDashboard(data));
}


Crie endpoints:

/api/dashboard/geral

/api/dashboard/financeiro

/api/dashboard/operacional

/api/dashboard/fornecedores

Cada endpoint retorna JSON formatado para gr√°ficos.

üóÑÔ∏è 4. Banco de Dados e Migra√ß√£o

Gerar novo arquivo:
migrations/002_add_remaining_structures.sql contendo:

Cria√ß√£o das tabelas:

funcionarios

compras

classificacoes

configuracoes

Altera√ß√µes nas tabelas existentes (se necess√°rio)

√çndices de performance

üöÄ 5. Garantias

N√£o quebrar nenhuma rota antiga

Testar todos os relacionamentos (chaves estrangeiras e integridade)

Usar tema escuro j√° aplicado no sistema

Implementar dashboards com visual profissional, din√¢mico e visualmente bonito